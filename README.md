# Inner Odyssey - The Learning Adventure

A comprehensive K-12 educational platform combining emotional intelligence training, academic excellence, and real-world life skills in an engaging, gamified learning environment.

## üìö Documentation

### ‚ö° Quick Reference
- **[DEVELOPER_CHEAT_SHEET.md](docs/DEVELOPER_CHEAT_SHEET.md)** - üéØ **START HERE!** 2-page quick reference for daily tasks

### Core Documentation
- **[ARCHITECTURE.md](docs/ARCHITECTURE.md)** - System architecture, technology stack, data flow
- **[DEVELOPER_ONBOARDING.md](docs/DEVELOPER_ONBOARDING.md)** - New developer setup guide
- **[DATABASE_SCHEMA.md](docs/DATABASE_SCHEMA.md)** - Complete database schema & RLS policies
- **[EDGE_FUNCTIONS.md](docs/EDGE_FUNCTIONS.md)** - Backend function reference
- **[SECURITY.md](docs/SECURITY.md)** - Security measures & compliance (COPPA/FERPA)

### Integration Documentation
- **[COMPONENTS.md](docs/COMPONENTS.md)** - Component library catalog (100+ components)
- **[API_INTEGRATION.md](docs/API_INTEGRATION.md)** - Supabase API patterns
- **[STATE_MANAGEMENT.md](docs/STATE_MANAGEMENT.md)** - React Query + custom hooks
- **[WORKFLOWS.md](docs/WORKFLOWS.md)** - User journey flows
- **[TESTING.md](docs/TESTING.md)** - Testing strategies & best practices

### Operational Documentation
- **[TROUBLESHOOTING.md](docs/TROUBLESHOOTING.md)** - Common issues & solutions
- **[DEPLOYMENT.md](docs/DEPLOYMENT.md)** - Deployment workflow & rollback procedures
- **[PERFORMANCE.md](docs/PERFORMANCE.md)** - Performance optimization guide
- **[MONITORING.md](docs/MONITORING.md)** - Monitoring, alerting & incident response

## üöÄ Quick Start

### Prerequisites
- Node.js 18+ and npm
- Git for version control
- Modern web browser (Chrome, Firefox, Safari, Edge)

### Local Development

```bash
# Clone the repository
git clone <YOUR_GIT_URL>
cd inner-odyssey

# Install dependencies
npm install

# Start development server
npm run dev
# Opens http://localhost:5173

# Build for production
npm run build

# Preview production build
npm run preview
```

### Phase 1 Testing & Validation

Complete testing suite for validating Phase 1 critical fixes (rate limiting, database performance, AI batch operations):

```bash
# Run all Phase 1 tests (4-6 hours)
./scripts/run-all-phase1-tests.sh

# Or run individual test suites
./scripts/phase1-load-test.sh        # Load & stress testing (1-2 hours)
./scripts/phase1-database-test.sh    # Database performance (30-60 min)
./scripts/phase1-ai-batch-test.sh    # AI batch operations (1-2 hours)
```

**Testing Documentation:**
- [Testing Guide](./docs/TESTING_GUIDE.md) - Complete guide with troubleshooting
- [Testing Report Template](./docs/PHASE1_TESTING_REPORT.md) - Results documentation
- [Phase 1 Status](./docs/PHASE1_COMPLETION_STATUS.md) - Implementation details

**CI/CD:** Automated testing runs daily via GitHub Actions (`.github/workflows/phase1-testing.yml`)

### Environment Configuration

Environment variables are **auto-generated** by Lovable Cloud (DO NOT edit manually):
```bash
VITE_SUPABASE_URL=<auto-generated>
VITE_SUPABASE_PUBLISHABLE_KEY=<auto-generated>
VITE_SUPABASE_PROJECT_ID=<auto-generated>
```

## üéØ Key Features

### For Students (Ages 5-18)
- **Age-Adaptive Learning:** Content adjusts to K-2, 3-5, 6-8, 9-12 age tiers
- **Emotional Intelligence:** Daily check-ins, coping strategies, reflection journals
- **Gamification:** Points, badges, streaks, daily quests
- **Custom Lessons:** AI-generated lessons tailored to interests and grade level
- **Collaborative Learning:** Peer connections, shared activities (parent-approved)

### For Parents
- **Real-Time Dashboard:** Monitor progress, view completed lessons, track points
- **AI Insights:** Weekly reports with conversation starters and growth areas
- **Screen Time Management:** Set daily limits, enforce time windows
- **Reward System:** Create custom rewards redeemable with earned points
- **Parent-Child Messaging:** Encourage and celebrate achievements

### For Educators (Future)
- **Class Management:** Roster import, standards alignment
- **Differentiated Instruction:** Adaptive difficulty, small group assignments
- **Progress Tracking:** Class-wide analytics, struggling student identification
- **Content Review:** Quality assurance for AI-generated lessons

## üõ†Ô∏è Technology Stack

### Frontend
- **React 18.3** with TypeScript
- **Vite** for blazing-fast builds
- **Tailwind CSS** + shadcn/ui for design system
- **React Query** for server state management
- **React Router DOM** for navigation
- **Framer Motion** for animations

### Backend (Lovable Cloud)
- **Supabase** (PostgreSQL, Auth, Edge Functions, Storage)
- **Deno** runtime for edge functions
- **Row Level Security** (RLS) for data protection
- **Lovable AI** (Gemini) for lesson generation

### Infrastructure
- **Lovable Cloud** (auto-deployment, CDN)
- **Cloudflare** for edge caching
- **Git** for version control

## üìñ Core Concepts

### Age-Adaptive Design
Content, UI density, and gamification complexity adjust automatically based on the child's grade level:
- **K-2:** Bright colors, large buttons, simple navigation, sticker rewards
- **3-5:** Balanced UI, badge system, quest board, moderate complexity
- **6-8:** Dense information, achievement library, skill trees, peer collaboration
- **9-12:** Professional design, credential system, portfolio building, college prep

### Security & Compliance
- **COPPA Compliant:** Parental consent, data minimization, transparent privacy policy
- **FERPA Aligned:** Educational records protection, parent data access rights
- **Encryption:** Sensitive emotion logs encrypted at rest
- **RLS Policies:** Row-level security ensures parents only access their children's data
- **Audit Logging:** All sensitive data access logged for security review

### Gamification Philosophy
- **Intrinsic Motivation:** Points reward effort, not just outcomes
- **Growth Mindset:** Celebrate progress ("You improved 15%!" vs "You're #1")
- **No Comparison:** K-2 students see no leaderboards, only personal growth
- **Ethical Competition:** Optional, team-based challenges (6-12 only)

## üîê Security Best Practices

### For Developers
1. **Never Bypass RLS:** Always use authenticated Supabase client
2. **Validate Child Access:** Use `useValidatedChild()` hook in all child routes
3. **Encrypt Sensitive Data:** Use `encryptEmotionField()` for emotion logs
4. **Sanitize Inputs:** Use `sanitizeInput()` on all user-submitted text
5. **Rate Limit APIs:** Implement `check_rate_limit()` on expensive operations

### For Beta Testers
1. **Use Strong Passwords:** Minimum 8 characters, mix of upper/lower/numbers
2. **Enable Two-Factor:** (Coming soon) Add extra account protection
3. **Review Child Activity:** Check parent dashboard weekly
4. **Report Security Issues:** Email security@innerodyssey.com immediately

## üêõ Troubleshooting

### Common Issues

**Problem:** "Child not found" error  
**Solution:** Ensure child is selected via `ChildSelector`, check localStorage for `selectedChildId`

**Problem:** Lesson generation fails  
**Solution:** Verify daily quota not exceeded (5 free lessons/day), check edge function logs

**Problem:** Points not updating  
**Solution:** Check `user_progress` table for recent entries, verify RLS policies

See **[TROUBLESHOOTING.md](docs/TROUBLESHOOTING.md)** for comprehensive debugging guide.

## üìä Performance

### Current Metrics (as of 2025-11-15)
- **Lighthouse Score:** 92/100 (mobile)
- **Load Time:** ~2.1s (initial page load)
- **Bundle Size:** 743 KB (gzipped)
- **Uptime:** 99.8% (last 30 days)

### Optimization Techniques
- Code splitting (lazy-loaded routes)
- React Query caching (5-60 minute stale times)
- Database indexing (all foreign keys + frequently queried columns)
- Image optimization (WebP format, lazy loading)
- Edge function connection pooling

See **[PERFORMANCE.md](docs/PERFORMANCE.md)** for optimization guide.

## üß™ Testing

### Testing Strategy
- **Unit Tests:** Component logic, utility functions (Jest + React Testing Library)
- **Integration Tests:** User flows, API interactions (Playwright)
- **End-to-End Tests:** Critical paths (signup, lesson completion, point redemption)
- **Security Tests:** RLS policy validation, input sanitization
- **Performance Tests:** Lighthouse CI, load testing (k6)

### Running Tests
```bash
# Unit tests
npm run test

# E2E tests
npm run test:e2e

# Coverage report
npm run test:coverage
```

See **[TESTING.md](docs/TESTING.md)** for testing best practices.

## üö¢ Deployment

### Environments
- **Staging:** `inner-odyssey-staging.lovable.app` (auto-deploy on `develop` branch)
- **Production:** `app.innerodyssey.com` (manual approval required)

### Deployment Process
1. Push to `main` branch (triggers build)
2. Auto-build completes (~5 minutes)
3. Manual "Go Live" approval in Lovable UI
4. Edge functions deploy automatically
5. Verify health check endpoint
6. Monitor error rates for 30 minutes

See **[DEPLOYMENT.md](docs/DEPLOYMENT.md)** for complete deployment guide.

## ü§ù Contributing

### Development Workflow
1. Create feature branch: `git checkout -b feature/my-feature`
2. Make changes (follow code style guidelines)
3. Test locally: `npm run dev` + manual testing
4. Commit: `git commit -m "feat: Add my feature"`
5. Push: `git push origin feature/my-feature`
6. Open Pull Request (PR template auto-generated)
7. Code review by senior developer
8. Merge to `develop` ‚Üí Auto-deploy to staging
9. QA approval ‚Üí Merge to `main` ‚Üí Production deploy

### Code Style
- **TypeScript:** Strict mode enabled, no `any` types
- **React:** Functional components + hooks (no class components)
- **Tailwind:** Use semantic tokens from `index.css` (no direct color values)
- **Naming:** `camelCase` for variables/functions, `PascalCase` for components
- **File Structure:** Group by feature, not by type

See **[DEVELOPER_ONBOARDING.md](docs/DEVELOPER_ONBOARDING.md)** for detailed guidelines.

## üìû Support

### For Developers
- **Documentation:** Check `/docs` folder first
- **Slack:** `#inner-odyssey-dev` channel
- **GitHub Issues:** Tag `@senior-dev` for urgent issues

### For Beta Testers
- **Email:** beta@innerodyssey.com
- **Discord:** Beta Tester Community (invite sent separately)
- **Feedback Widget:** In-app (bottom-right corner)

### For Security Issues
- **Email:** security@innerodyssey.com (immediate response)
- **Encrypted:** PGP key available on website

## üìú License

Inner Odyssey is proprietary software. All rights reserved.

**Beta Testing Agreement:** By participating in beta testing, you agree to:
- Provide feedback on functionality and usability
- Report bugs and security issues promptly
- Not share access credentials with non-beta testers
- Keep sensitive user data confidential

## üôè Acknowledgments

- **Beta Testers:** Thank you for helping us build a better product!
- **Supabase:** For the incredible open-source backend platform
- **Lovable Cloud:** For seamless deployment and hosting
- **shadcn/ui:** For the beautiful component library
- **React Community:** For the ecosystem that makes this possible

---

**Last Updated:** 2025-11-15  
**Version:** 1.2.0 (Beta)  
**Maintainer:** Inner Odyssey Development Team
